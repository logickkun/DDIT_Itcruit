<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="kr.co.itcruit.mapper.IEntCodingtestMapper">
 
 
 	<resultMap type="entCodingtestVO" id="entCodingtestMap">
 		<result property="entCodingtestNo" column="ent_codingtest_no"/>
		<result property="processNo" column="process_No" />
		<result property="processNoOrder" column="process_No_Order" />
		<result property="recruitNo" column="recruit_No" />
		<result property="pstnCmmncdNm" column="pstn_Cmmncd_Nm" />
		<result property="strtDt" column="strt_Dt" />
		<result property="endDt" column="end_Dt" />
		<result property="orderNo" column="order_No" />
		<collection property="entCodingtestList" resultMap="codingtestMap"/>
 	</resultMap>
 
 	<resultMap type="codingtestVO" id="codingtestMap">
 		<result property="qstnNo" column="qstn_No"/>
 		<result property="qstnTtl" column="qstn_ttl"/>
 	</resultMap>
 	
 	
 	<select id="getEntCodingtestByNo" parameterType="int" resultMap="entCodingtestMap">
 		SELECT
		    ecn.ent_codingtest_no,
		    ecn.recruit_no,
		    ecn.pstn_cmmncd_nm,
		    ecn.process_no,
		    ecn.process_no_order,
		    ecn.strt_dt,
		    ecn.end_dt,
		    ecqd.qstn_no,
		    ecqd.ent_codingtest_no_order as order_No,
		    cq.qstn_ttl
		FROM
		    ent_codingtest_no ecn 
		INNER JOIN
		    ent_codingtest_qstn_dsnct ecqd ON
		    ecqd.ent_codingtest_no = ecn.ent_codingtest_no
		INNER JOIN
		     codingtest_question cq ON
		     cq.qstn_no = ecqd.qstn_no
		where ecn.ent_codingtest_no = #{entCodingtestNo}
 	
 	</select>
 
 </mapper>